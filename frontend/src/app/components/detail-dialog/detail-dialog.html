<div class="detail-container">
  <div class="media-section">
    <img [src]="post.mediaUrl" *ngIf="post.mediaType !== 'video'" class="hero-media">
    <video [src]="post.mediaUrl" *ngIf="post.mediaType === 'video'" class="hero-media" controls autoplay></video>
  </div>

  <div class="info-section">
    <div class="header">
      <h2 class="title">{{post.header}}</h2>
      <button mat-icon-button mat-dialog-close><mat-icon>close</mat-icon></button>
    </div>
    
    <div class="meta">
      <span>å‘å¸ƒäº {{post.createdAt | date:'short'}}</span>
      <span class="likes">ğŸ‘ {{post.likes || 0}}</span>
    </div>

    <p class="description">{{post.text}}</p>

    <mat-divider></mat-divider>

    <div class="comments-list">
      <h3 class="section-title">è¯„è®º ({{post.comments ? post.comments.length : 0}})</h3>
      
      <div class="empty-state" *ngIf="!post.comments || post.comments.length === 0">
        æŠ¢æ²™å‘ï¼å¿«æ¥å‘è¡¨ç¬¬ä¸€æ¡è¯„è®ºã€‚
      </div>

      <div class="comment-item" *ngFor="let c of post.comments">
        <div class="avatar">{{c.commentName.charAt(0).toUpperCase()}}</div>
        <div class="comment-content">
          <div class="comment-header">
            <span class="name">{{c.commentName}}</span>
            <span class="time">{{c.commentTime | date:'MM/dd HH:mm'}}</span>
          </div>
          <div class="text">{{c.commentText}}</div>
        </div>
        <button mat-icon-button color="warn" class="del-btn" (click)="deleteComment(c.commentId)">
          <mat-icon style="font-size: 16px;">delete</mat-icon>
        </button>
      </div>
    </div>

    <div class="comment-input-area">
      <input class="input-name" placeholder="æ˜µç§°" [(ngModel)]="newCommentName">
      <div class="input-group">
        <input class="input-text" placeholder="è¯´ç‚¹ä»€ä¹ˆ..." [(ngModel)]="newCommentText" (keyup.enter)="addComment()">
        <button mat-mini-fab color="primary" (click)="addComment()" [disabled]="submitting">
          <mat-icon>send</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>